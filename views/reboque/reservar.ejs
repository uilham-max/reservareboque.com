<!DOCTYPE html>
<html lang="en">
<head>
    <%-include('../partials/header.ejs')%>
    <script src="/js/valida_hora_inicio_fim_periodo_reserva.js" ></script>
    <script src="/js/validaDadosFormulario.js" ></script>
    <script src="/js/flatpickr_periodo.js" ></script>
</head>
<body  >
    
    <%-include('../partials/navbaradmin.ejs')%>

    <div  class="conteudo"></div>

    <div class="container" >
        <form class="needs-validation" novalidate action="/reboque/reservar" method="POST">
        
            <div class="lista-reboques">
                <!-- Datas em que este reboque está indisponível -->
                <input type="hidden" id="reservas" value="<%= JSON.stringify(reservas) %>">

                <!-- testando o flatpickr -->
                <div class="card card-reserva">
                    <div class="card-body">
                        <h5>Informe o periodo</h5>
                        <hr>

                        
                        
                        <div class="input-group" >
                            <span class="input-group-text">Período</span>
                            <input class="calendario" id="dataIntervalo" type="text">
                        </div><br>

                        <div class="input-group">
                            <span class="input-group-text">Hora Retirada</span>
                            <select class="form-select  calendario" id="horaInicio" name="horaInicio" required>
                              <!-- Gera opções de 00 a 23 -->
                              <% for(let i = 8; i < 24; i++) { %>
                                <option value="<%= i %>"><%= i.toString().padStart(2, '0')+':00' %></option>
                              <% } %>
                            </select>
                            <div class="valid-feedback">
                                <!-- Looks good! -->
                            </div>
                            <div class="invalid-feedback">
                                <span id="invalidHoraInicio" ></span>
                            </div>
                        </div><br>


                        <div class="input-group">
                            <span class="input-group-text">Hora Entrega</span>
                            <select class="form-select  calendario" id="horaFim" name="horaFim" required>
                              <!-- Gera opções de 00 a 23 -->
                              <% for(let i = 8; i < 24; i++) { %>
                                <option value="<%= i %>"><%= i.toString().padStart(2, '0')+':00' %></option>
                              <% } %>
                            </select>
                            <div class="valid-feedback">
                                <!-- Looks good! -->
                            </div>
                            <div class="invalid-feedback">
                                <span id="invalidHoraFim" ></span>
                            </div>
                        </div><br>

                        <div class="input-group">
                            <span class="input-group-text">CPF</span>
                            <input class="form-control" id="cpf" type="text" name="cpf" minlength="14" maxlength="14" required>
                            <div class="valid-feedback">
                                <!-- Looks good! -->
                            </div>
                            <div class="invalid-feedback">
                                <span id="invalidCPF" ></span>
                            </div>
                        </div>

                    

                        
                    </div>
                    <div class="d-flex justify-content-center" style="margin: 0.5rem;">
                        <button class="btn btn-secondary me-3" type="button" onclick="history.back()">Voltar</button>
                        <input class="btn btn-primary" id="botao" type="submit" value="Próximo">
                    </div>
                </div>



            </div>

            <input type="hidden" name="reboquePlaca" value="<%=reboque.placa%>" >
            <input type="hidden" id="dataInicio" name="dataInicio">
            <input type="hidden" id="dataFim" name="dataFim">
            <input type="hidden" id="formaPagamento" name="formaPagamento" value="DINHEIRO">

        </form>
    </div>
    <%-include('../partials/footer.ejs')%>
</body>
</html>